runtime:
  mode: "dry-run"
  log_level: "INFO"
  data_dir: "/tmp/ghdcbot-state"
  github_adapter: "ghdcbot.adapters.github.rest:GitHubRestAdapter"
  discord_adapter: "ghdcbot.adapters.discord.api:DiscordApiAdapter"
  storage_adapter: "ghdcbot.adapters.storage.sqlite:SqliteStorage"

github:
  org: "example-org"
  token: "${GITHUB_TOKEN}"
  api_base: "https://api.github.com"
  permissions:
    read: true
    write: false
  user_fallback: false

# Optional repo filtering
# repos:
#   mode: "allow"
#   names:
#     - "repo-a"
#     - "repo-b"

discord:
  guild_id: "000000000000000000"
  token: "${DISCORD_TOKEN}"
  permissions:
    read: true
    write: false
  # Optional: channel ID for read-only activity feed (mentor visibility). If set, one summary message per run.
  activity_channel_id: null
  # Optional: channel names where PR URLs trigger passive preview (requires message content intent)
  # Example: ["mentor-chat", "review-queue"]
  pr_preview_channels: []
  # Optional: verified-only GitHub â†’ Discord notifications (issue assigned, PR review, merged, etc.)
  # notifications:
  #   enabled: true
  #   issue_assignment: true
  #   pr_review_requested: true
  #   pr_review_result: true
  #   pr_merged: true
  #   coderabbit_reminders: false
  #   coderabbit_reminder_after_hours: 48
  #   coderabbit_bot_logins: ["coderabbitai", "coderabbitai[bot]"]
  #   channel_id: null  # null = DM; set to channel ID to post there

scoring:
  period_days: 30
  weights:
    issue_opened: 3
    pr_opened: 5
    pr_reviewed: 2
    comment: 1

role_mappings:
  - discord_role: "Contributor"
    min_score: 10
  - discord_role: "Maintainer"
    min_score: 40

assignments:
  review_roles:
    - "Maintainer"
  # Discord role(s) that can use /assign-issue, /sync, and /issue-requests (e.g. "Mentor")
  issue_assignees:
    - "Mentor"
  # Optional: roles required for a contributor to be "eligible" for issue assignment (empty = any verified user)
  issue_request_eligible_roles: []

# Optional: unlink cooldown (hours) after verification before /unlink or CLI unlink is allowed
# identity:
#   unlink_cooldown_hours: 24

# Optional: when a contributor has a PR merged in a repo, grant them the corresponding Discord role
# (repo name -> Discord role name). Roles are add-only and never auto-removed.
repo_contributor_roles:
  castro: "castro"

identity_mappings:
  - github_user: "YOUR_GITHUB_USERNAME"
    discord_user_id: "YOUR_DISCORD_USER_ID"
